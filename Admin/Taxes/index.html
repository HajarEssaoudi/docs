
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../categories/">
      
      
        <link rel="next" href="../Products/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Taxes - InfyInvoices</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#taxe-page" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="InfyInvoices" class="md-header__button md-logo" aria-label="InfyInvoices" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            InfyInvoices
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Taxes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../Login/" class="md-tabs__link">
      Authentication page
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../dashboard/" class="md-tabs__link md-tabs__link--active">
        Admin
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Client/dashboard/" class="md-tabs__link">
        Client
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../layout/" class="md-tabs__link">
      Layout
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="InfyInvoices" class="md-nav__button md-logo" aria-label="InfyInvoices" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    InfyInvoices
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Login/" class="md-nav__link">
        Authentication page
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Admin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Admin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dashboard/" class="md-nav__link">
        Dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../admins/" class="md-nav__link">
        admins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../clients/" class="md-nav__link">
        clients
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../categories/" class="md-nav__link">
        categories
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Taxes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Taxes
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#route" class="md-nav__link">
    Route
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller" class="md-nav__link">
    Controller
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    Model
  </a>
  
    <nav class="md-nav" aria-label="Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tax-model" class="md-nav__link">
    Tax Model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoice-item-tax-model" class="md-nav__link">
    Invoice Item Tax model
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view" class="md-nav__link">
    View
  </a>
  
    <nav class="md-nav" aria-label="View">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-livewire-taxes-table" class="md-nav__link">
    The livewire: Taxes table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-of-taxes" class="md-nav__link">
    List of Taxes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edit-tax" class="md-nav__link">
    Edit tax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-tax" class="md-nav__link">
    Create Tax
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Products/" class="md-nav__link">
        Products
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Quotes/" class="md-nav__link">
        Quotes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../invoices/" class="md-nav__link">
        invoices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Transactions/" class="md-nav__link">
        Transactions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Payments/" class="md-nav__link">
        Payments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../InvoiceTemplates/" class="md-nav__link">
        Invoice Templates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Settings/" class="md-nav__link">
        Settings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Client
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Client
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Client/dashboard/" class="md-nav__link">
        Dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Client/quotes/" class="md-nav__link">
        Quotes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Client/invoices/" class="md-nav__link">
        Invoices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Client/transactions/" class="md-nav__link">
        Transactions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../layout/" class="md-nav__link">
        Layout
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="taxe-page">Taxe page</h1>
<h2 id="route">Route</h2>
<p>The route <code>Route::resource('taxes', TaxController::class);</code> leads to the page <strong>/admin/taxes</strong>, which displays all the taxes we have.</p>
<h2 id="controller">Controller</h2>
<p>The controller of the 'Taxes' page located in <strong>app&gt;http&gt;controllers&gt;TaxController.php</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\DataTables\TaxDataTable</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Http\Requests\CreateTaxRequest</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Http\Requests\UpdateTaxRequest</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Models\InvoiceItemTax</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Models\Tax</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Repositories\TaxRepository</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Exception</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Contracts\Foundation\Application</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Contracts\View\Factory</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Contracts\View\View</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Http\JsonResponse</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Http\Request</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Yajra\DataTables\Facades\DataTables</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">TaxController</span> <span class="k">extends</span> <span class="nx">AppBaseController</span>
<span class="p">{</span>
    <span class="sd">/** @var TaxRepository */</span>
    <span class="k">public</span> <span class="nv">$taxRepository</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @param  TaxRepository  $taxRepo</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">TaxRepository</span> <span class="nv">$taxRepo</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">taxRepository</span> <span class="o">=</span> <span class="nv">$taxRepo</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @param  Request  $request</span>
<span class="sd">     * @return Application|Factory|View</span>
<span class="sd">     *</span>
<span class="sd">     * @throws Exception</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">ajax</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">Datatables</span><span class="o">::</span><span class="na">of</span><span class="p">((</span><span class="k">new</span> <span class="nx">TaxDataTable</span><span class="p">())</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">())</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;taxes.index&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @param  Request  $request</span>
<span class="sd">     * @return mixed</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">store</span><span class="p">(</span><span class="nx">CreateTaxRequest</span> <span class="nv">$request</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$input</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$input</span><span class="p">[</span><span class="s1">&#39;is_default&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">Tax</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;is_default&#39;</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">([</span><span class="s1">&#39;is_default&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">]);</span>
            <span class="nv">$tax</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">taxRepository</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$input</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nv">$tax</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">taxRepository</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$input</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sendResponse</span><span class="p">(</span><span class="nv">$tax</span><span class="p">,</span> <span class="s1">&#39;Tax saved successfully.&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @param  Tax  $tax</span>
<span class="sd">     * @return mixed</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">edit</span><span class="p">(</span><span class="nx">Tax</span> <span class="nv">$tax</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sendResponse</span><span class="p">(</span><span class="nv">$tax</span><span class="p">,</span> <span class="s1">&#39;Tax retrieved successfully.&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @param  UpdateTaxRequest  $request</span>
<span class="sd">     * @param $taxId</span>
<span class="sd">     * @return mixed</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">update</span><span class="p">(</span><span class="nx">UpdateTaxRequest</span> <span class="nv">$request</span><span class="p">,</span> <span class="nv">$taxId</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$input</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$input</span><span class="p">[</span><span class="s1">&#39;is_default&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">Tax</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;is_default&#39;</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">([</span><span class="s1">&#39;is_default&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">]);</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">taxRepository</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nv">$taxId</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">taxRepository</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nv">$taxId</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sendSuccess</span><span class="p">(</span><span class="s1">&#39;Tax updated successfully.&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @param  Tax  $tax</span>
<span class="sd">     * @return mixed</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">destroy</span><span class="p">(</span><span class="nx">Tax</span> <span class="nv">$tax</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$invoiceModels</span> <span class="o">=</span> <span class="p">[</span>
            <span class="nx">InvoiceItemTax</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
        <span class="p">];</span>
        <span class="nv">$result</span> <span class="o">=</span> <span class="nx">canDelete</span><span class="p">(</span><span class="nv">$invoiceModels</span><span class="p">,</span> <span class="s1">&#39;tax_id&#39;</span><span class="p">,</span> <span class="nv">$tax</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sendError</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;messages.flash.tax_can_not_deleted&#39;</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="nv">$tax</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sendSuccess</span><span class="p">(</span><span class="s1">&#39;Tax deleted successfully.&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @param  Tax  $tax</span>
<span class="sd">     * @return JsonResponse</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">defaultStatus</span><span class="p">(</span><span class="nx">Tax</span> <span class="nv">$tax</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$status</span> <span class="o">=</span> <span class="o">!</span> <span class="nv">$tax</span><span class="o">-&gt;</span><span class="na">is_default</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$status</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">Tax</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;is_default&#39;</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">([</span><span class="s1">&#39;is_default&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="nv">$tax</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">([</span><span class="s1">&#39;is_default&#39;</span> <span class="o">=&gt;</span> <span class="nv">$status</span><span class="p">]);</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sendSuccess</span><span class="p">(</span><span class="s1">&#39;Status updated successfully.&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Let's break down the code and understand its functionality:</p>
<ol>
<li>
<p><strong>Namespace and Imports:</strong></p>
</li>
<li>
<p>The controller is defined within the <code>App\Http\Controllers</code> namespace.</p>
</li>
<li>
<p>Various classes and dependencies are imported using the <code>use</code> keyword.</p>
</li>
<li>
<p><strong>Class Definition:</strong></p>
</li>
<li>
<p>The class <code>TaxController</code> extends <code>AppBaseController</code>. This suggests that there is a base controller (<code>AppBaseController</code>) that provides common functionalities inherited by controllers.</p>
</li>
<li>
<p><strong>Constructor:</strong></p>
</li>
<li>
<p>The constructor of the <code>TaxController</code> class accepts an instance of the <code>TaxRepository</code> class as a parameter and assigns it to the <code>$taxRepository</code> property. This repository handles interactions with the database related to taxes.</p>
</li>
<li>
<p><strong>Methods:</strong></p>
</li>
<li>
<p><code>index(Request $request)</code>:</p>
<ul>
<li>This method is responsible for displaying a list of taxes.</li>
<li>If the request is an AJAX request (<code>$request-&gt;ajax()</code>), it uses the DataTables library to fetch tax data and return it as a JSON response.</li>
<li>If not an AJAX request, it renders the 'taxes.index' view.</li>
</ul>
</li>
<li>
<p><code>store(CreateTaxRequest $request)</code>:</p>
<ul>
<li>This method handles the creation of a new tax.</li>
<li>It retrieves the input data from the request, and if the <code>is_default</code> flag is set to '1', it updates any existing default tax to not be the default anymore. Then, it creates a new tax record in the database.</li>
</ul>
</li>
<li>
<p><code>edit(Tax $tax)</code>:</p>
<ul>
<li>This method retrieves a specific tax record and sends it as a response.</li>
</ul>
</li>
<li>
<p><code>update(UpdateTaxRequest $request, $taxId)</code>:</p>
<ul>
<li>This method handles the update of an existing tax.</li>
<li>It retrieves the input data from the request, and if the <code>is_default</code> flag is set to '1', it updates any existing default tax to not be the default anymore. Then, it updates the tax record in the database.</li>
</ul>
</li>
<li>
<p><code>destroy(Tax $tax)</code>:</p>
<ul>
<li>This method handles the deletion of a tax.</li>
<li>It checks whether the tax can be deleted by calling the <code>canDelete</code> function with certain parameters. If it can't be deleted, an error response is sent.</li>
<li>If the tax can be deleted, it is removed from the database.</li>
</ul>
</li>
<li>
<p><code>defaultStatus(Tax $tax)</code>:</p>
<ul>
<li>This method toggles the default status of a tax.</li>
<li>If the tax's default status is being set to '1', it updates other taxes to make sure only one tax is the default.</li>
<li>Then, it updates the tax's default status and sends a success response.</li>
</ul>
</li>
</ol>
<p>Overall, this controller is responsible for managing CRUD (Create, Read, Update, Delete) operations for tax records in a web application, along with handling default tax settings and AJAX-based data retrieval.</p>
<h2 id="model">Model</h2>
<p>The models related to this controller are : <strong>App\Models\Tax</strong> and <strong>App\Models\InvoiceItemTax</strong>.</p>
<h3 id="tax-model">Tax Model</h3>
<div class="highlight"><pre><span></span><code><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nx">namespace</span><span class="w"> </span><span class="nx">App</span><span class="err">\</span><span class="nx">Models</span><span class="p">;</span>

<span class="nx">use</span><span class="w"> </span><span class="nx">Illuminate</span><span class="err">\</span><span class="nx">Database</span><span class="err">\</span><span class="nx">Eloquent</span><span class="err">\</span><span class="nx">Factories</span><span class="err">\</span><span class="nx">HasFactory</span><span class="p">;</span>
<span class="nx">use</span><span class="w"> </span><span class="nx">Illuminate</span><span class="err">\</span><span class="nx">Database</span><span class="err">\</span><span class="nx">Eloquent</span><span class="err">\</span><span class="nx">Model</span><span class="p">;</span>

<span class="kd">class</span><span class="w"> </span><span class="nx">Tax</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Model</span>
<span class="p">{</span>
<span class="w">    </span><span class="nx">use</span><span class="w"> </span><span class="nx">HasFactory</span><span class="p">;</span>

<span class="w">    </span><span class="kr">protected</span><span class="w"> </span><span class="nx">$table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;taxes&#39;</span><span class="p">;</span>

<span class="w">    </span><span class="kr">protected</span><span class="w"> </span><span class="nx">$fillable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;is_default&#39;</span><span class="p">];</span>

<span class="w">    </span><span class="kr">protected</span><span class="w"> </span><span class="nx">$casts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s1">&#39;name&#39;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;value&#39;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s1">&#39;double&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;is_default&#39;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s1">&#39;integer&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">];</span>

<span class="w">    </span><span class="kr">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="nx">$rules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s1">&#39;name&#39;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s1">&#39;required|unique:taxes,name&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;value&#39;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s1">&#39;required|numeric&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div>
<p>Let's break down the code and understand its functionality:</p>
<ol>
<li>
<p><strong>Namespace and Use Statements:</strong></p>
</li>
<li>
<p>The model is defined within the <code>App\Models</code> namespace.</p>
</li>
<li>
<p>The <code>HasFactory</code> trait is used, which provides a simple method for creating model factory instances.</p>
</li>
<li>
<p><strong>Class Definition:</strong></p>
</li>
<li>
<p>The class <code>Tax</code> extends the <code>Model</code> class provided by Laravel's Eloquent ORM.</p>
</li>
<li>
<p><strong>Table Mapping:</strong></p>
</li>
<li>
<p>The <code>$table</code> property specifies the database table associated with this model, which is <code>'taxes'</code>.</p>
</li>
<li>
<p><strong>Fillable Attributes:</strong></p>
</li>
<li>
<p>The <code>$fillable</code> property lists the attributes that are mass assignable. These attributes can be filled using the <code>create</code> or <code>update</code> methods without explicitly specifying each one.</p>
</li>
<li>
<p><strong>Attribute Casting:</strong></p>
</li>
<li>
<p>The <code>$casts</code> property defines how certain attributes should be cast to specific data types when retrieved from the database.</p>
</li>
<li>
<p>In this case:</p>
<ul>
<li><code>'name'</code> is cast as a string.</li>
<li><code>'value'</code> is cast as a double (floating-point number).</li>
<li><code>'is_default'</code> is cast as an integer.</li>
</ul>
</li>
<li>
<p><strong>Validation Rules:</strong></p>
</li>
<li>
<p>The <code>$rules</code> array defines validation rules for creating and updating records of this model.</p>
</li>
<li><code>'name'</code> must be unique in the <code>'taxes'</code> table and is required.</li>
<li>
<p><code>'value'</code> must be a numeric value and is required.</p>
</li>
<li>
<p><strong>Factory Usage:</strong></p>
</li>
<li>The <code>HasFactory</code> trait enables the use of model factories to create dummy data for testing and database seeding.</li>
</ol>
<p>Overall, the <code>Tax</code> model is designed to represent tax records in the application's database. It includes attributes for the tax's name, value, and whether it's the default tax. The model also includes validation rules and attribute casting to ensure proper data integrity and consistency when interacting with the database.</p>
<h3 id="invoice-item-tax-model">Invoice Item Tax model</h3>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Models</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Builder</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Factories\HasFactory</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Model</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Relations\BelongsTo</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">InvoiceItemTax</span> <span class="k">extends</span> <span class="nx">Model</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">HasFactory</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="nv">$rules</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;invoice_item_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;required&#39;</span><span class="p">,</span>
        <span class="s1">&#39;tax_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;required&#39;</span><span class="p">,</span>
        <span class="s1">&#39;tax&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;nullable&#39;</span><span class="p">,</span>
    <span class="p">];</span>

    <span class="k">protected</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;invoice_item_taxes&#39;</span><span class="p">;</span>

    <span class="k">public</span> <span class="nv">$fillable</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;invoice_item_id&#39;</span><span class="p">,</span>
        <span class="s1">&#39;tax_id&#39;</span><span class="p">,</span>
        <span class="s1">&#39;tax&#39;</span><span class="p">,</span>
    <span class="p">];</span>

    <span class="k">protected</span> <span class="nv">$casts</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;invoice_item_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
        <span class="s1">&#39;tax_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
        <span class="s1">&#39;tax&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;double&#39;</span><span class="p">,</span>
    <span class="p">];</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">invoiceItem</span><span class="p">()</span><span class="o">:</span> <span class="nx">BelongsTo</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">belongsTo</span><span class="p">(</span><span class="nx">InvoiceItem</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Let's break down the code and understand its functionality:</p>
<ol>
<li>
<p><strong>Namespace and Use Statements:</strong></p>
</li>
<li>
<p>The model is defined within the <code>App\Models</code> namespace.</p>
</li>
<li>
<p>The <code>HasFactory</code> trait is used, allowing for the creation of model factory instances.</p>
</li>
<li>
<p><strong>Class Definition:</strong></p>
</li>
<li>
<p>The class <code>InvoiceItemTax</code> extends the <code>Model</code> class provided by Laravel's Eloquent ORM.</p>
</li>
<li>
<p><strong>Table Mapping:</strong></p>
</li>
<li>
<p>The <code>$table</code> property specifies the database table associated with this model, which is <code>'invoice_item_taxes'</code>.</p>
</li>
<li>
<p><strong>Fillable Attributes:</strong></p>
</li>
<li>
<p>The <code>$fillable</code> property lists the attributes that are mass assignable. These attributes can be filled using the <code>create</code> or <code>update</code> methods without explicitly specifying each one.</p>
</li>
<li>
<p>The fillable attributes include <code>invoice_item_id</code>, <code>tax_id</code>, and <code>tax</code>.</p>
</li>
<li>
<p><strong>Attribute Casting:</strong></p>
</li>
<li>
<p>The <code>$casts</code> property defines how certain attributes should be cast to specific data types when retrieved from the database.</p>
</li>
<li>
<p>In this case:</p>
<ul>
<li><code>'invoice_item_id'</code> is cast as an integer.</li>
<li><code>'tax_id'</code> is cast as an integer.</li>
<li><code>'tax'</code> is cast as a double (floating-point number).</li>
</ul>
</li>
<li>
<p><strong>Validation Rules:</strong></p>
</li>
<li>
<p>The <code>$rules</code> array defines validation rules for creating and updating records of this model.</p>
</li>
<li><code>'invoice_item_id'</code> and <code>'tax_id'</code> are both required.</li>
<li>
<p><code>'tax'</code> is nullable, meaning it doesn't have to be provided but can be if needed.</p>
</li>
<li>
<p><strong>Relationship:</strong></p>
</li>
<li>
<p>The <code>invoiceItem</code> method defines a <code>BelongsTo</code> relationship with the <code>InvoiceItem</code> model.</p>
</li>
<li>
<p>This indicates that an <code>InvoiceItemTax</code> belongs to an <code>InvoiceItem</code>.</p>
</li>
<li>
<p><strong>Method Annotations:</strong></p>
</li>
<li>The annotations above the class properties provide hints for the model's properties, such as their data types and relationships.</li>
</ol>
<p>Overall, the <code>InvoiceItemTax</code> model is designed to represent the relationship between an invoice item and a tax. It includes attributes that link to both the invoice item and the tax, as well as validation rules and casting for data integrity. The model also establishes a <code>BelongsTo</code> relationship with the <code>InvoiceItem</code> model, allowing for retrieval of the associated invoice item.</p>
<h2 id="view">View</h2>
<h3 id="the-livewire-taxes-table">The livewire: Taxes table</h3>
<p>The livewire of the 'tax table' located in <strong>app&gt;http&gt;livewire&gt;TaxTable.php</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Http\Livewire</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Models\Tax</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Builder</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Rappasoft\LaravelLivewireTables\Views\Column</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">TaxTable</span> <span class="k">extends</span> <span class="nx">LivewireTableComponent</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$model</span> <span class="o">=</span> <span class="nx">Tax</span><span class="o">::</span><span class="na">class</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nx">string</span> <span class="nv">$tableName</span> <span class="o">=</span> <span class="s1">&#39;taxes&#39;</span><span class="p">;</span>

    <span class="c1">// for table header button</span>
    <span class="k">public</span> <span class="nv">$showButtonOnHeader</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="k">public</span> <span class="nv">$buttonComponent</span> <span class="o">=</span> <span class="s1">&#39;taxes.components.add-button&#39;</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">configure</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setPrimaryKey</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setDefaultSort</span><span class="p">(</span><span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="s1">&#39;desc&#39;</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setQueryStringStatus</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setThAttributes</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">Column</span> <span class="nv">$column</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nv">$column</span><span class="o">-&gt;</span><span class="na">getField</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;id&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="p">[</span>
                    <span class="s1">&#39;style&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;width:9%;text-align:center&#39;</span><span class="p">,</span>
                <span class="p">];</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="p">[</span>
                <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;text-center&#39;</span><span class="p">,</span>
            <span class="p">];</span>
        <span class="p">});</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setTdAttributes</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">Column</span> <span class="nv">$column</span><span class="p">,</span> <span class="nv">$row</span><span class="p">,</span> <span class="nv">$columnIndex</span><span class="p">,</span> <span class="nv">$rowIndex</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nv">$column</span><span class="o">-&gt;</span><span class="na">getField</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="p">[</span>
                    <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;w-50&#39;</span><span class="p">,</span>
                <span class="p">];</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="nv">$column</span><span class="o">-&gt;</span><span class="na">getField</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="p">[</span>
                    <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;w-25&#39;</span><span class="p">,</span>
                <span class="p">];</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="nv">$column</span><span class="o">-&gt;</span><span class="na">getField</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;is_default&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="p">[</span>
                    <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;text-center&#39;</span><span class="p">,</span>
                <span class="p">];</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="p">[];</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">columns</span><span class="p">()</span><span class="o">:</span> <span class="k">array</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="nx">Column</span><span class="o">::</span><span class="na">make</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;messages.common.name&#39;</span><span class="p">),</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
                <span class="o">-&gt;</span><span class="na">sortable</span><span class="p">()</span>
                <span class="o">-&gt;</span><span class="na">searchable</span><span class="p">(),</span>
            <span class="nx">Column</span><span class="o">::</span><span class="na">make</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;messages.common.value&#39;</span><span class="p">),</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span>
                <span class="o">-&gt;</span><span class="na">sortable</span><span class="p">()</span>
                <span class="o">-&gt;</span><span class="na">searchable</span><span class="p">()</span>
                <span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$row</span><span class="p">,</span> <span class="nx">Column</span> <span class="nv">$column</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">value</span><span class="o">.</span><span class="s1">&#39;%&#39;</span><span class="p">;</span>
                <span class="p">}),</span>
            <span class="nx">Column</span><span class="o">::</span><span class="na">make</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;messages.common.default&#39;</span><span class="p">),</span> <span class="s1">&#39;is_default&#39;</span><span class="p">)</span>
                <span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;taxes.components.default&#39;</span><span class="p">),</span>
            <span class="nx">Column</span><span class="o">::</span><span class="na">make</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;messages.common.action&#39;</span><span class="p">),</span> <span class="s1">&#39;id&#39;</span><span class="p">)</span>
                <span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$row</span><span class="p">,</span> <span class="nx">Column</span> <span class="nv">$column</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;livewire.modal-action-button&#39;</span><span class="p">)</span>
                        <span class="o">-&gt;</span><span class="na">with</span><span class="p">([</span>
                            <span class="s1">&#39;dataId&#39;</span> <span class="o">=&gt;</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">,</span>
                            <span class="s1">&#39;editClass&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;tax-edit-btn&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;deleteClass&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;tax-delete-btn&#39;</span><span class="p">,</span>
                        <span class="p">]);</span>
                <span class="p">}),</span>
        <span class="p">];</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">builder</span><span class="p">()</span><span class="o">:</span> <span class="nx">Builder</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Tax</span><span class="o">::</span><span class="na">query</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;taxes.*&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Let's break down the code and understand its functionality:</p>
<ol>
<li>
<p><strong>Namespace and Use Statements:</strong></p>
</li>
<li>
<p>The component is defined within the <code>App\Http\Livewire</code> namespace.</p>
</li>
<li>
<p>The <code>Tax</code> model is imported, as well as some Livewire and LaravelLivewireTables classes and components.</p>
</li>
<li>
<p><strong>Class Definition:</strong></p>
</li>
<li>
<p>The class <code>TaxTable</code> extends <code>LivewireTableComponent</code>.</p>
</li>
<li>
<p><strong>Model and Table Configuration:</strong></p>
</li>
<li>
<p>The <code>$model</code> property specifies the model associated with the table, which is <code>Tax::class</code>.</p>
</li>
<li>
<p>The <code>$tableName</code> property specifies the name of the table, which is <code>'taxes'</code>.</p>
</li>
<li>
<p><strong>Button Configuration:</strong></p>
</li>
<li>
<p>The <code>showButtonOnHeader</code> property indicates whether a button should be shown in the table header.</p>
</li>
<li>
<p>The <code>buttonComponent</code> property specifies the Livewire component that will render the button.</p>
</li>
<li>
<p><strong><code>configure()</code> Method:</strong></p>
</li>
<li>
<p>This method is used to configure various aspects of the Livewire table component.</p>
</li>
<li><code>setPrimaryKey()</code> sets the primary key for the table to <code>'id'</code>.</li>
<li><code>setDefaultSort()</code> sets the default sorting to be based on the <code>'created_at'</code> column in descending order.</li>
<li><code>setQueryStringStatus(false)</code> disables using query strings for table state.</li>
<li>
<p><code>setThAttributes()</code> and <code>setTdAttributes()</code> define attributes for table headers and table cells, respectively.</p>
</li>
<li>
<p><strong><code>columns()</code> Method:</strong></p>
</li>
<li>
<p>This method defines the columns to be displayed in the table.</p>
</li>
<li>Each column is created using the <code>Column::make()</code> method and specifies the column's title, database field, and various configuration options.</li>
<li>
<p>The last column includes a button for actions like editing and deleting.</p>
</li>
<li>
<p><strong><code>builder()</code> Method:</strong></p>
</li>
<li>This method returns a query builder instance used to fetch data for the table.</li>
<li>It selects all columns from the <code>taxes</code> table.</li>
</ol>
<p>In summary, the <code>TaxTable</code> Livewire component is used to display a dynamic table of tax records. It provides sorting, searching, and pagination functionalities. The table columns are defined using the <code>columns()</code> method, and the data is fetched using the <code>builder()</code> method. The component also allows you to configure various aspects of the table's appearance and behavior.</p>
<h3 id="list-of-taxes">List of Taxes</h3>
<p>The list of taxes view is located in : <strong>resources\views\Taxes\index.blade.php</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="err">@</span><span class="k">extends</span><span class="p">(</span><span class="s1">&#39;layouts.app&#39;</span><span class="p">)</span>
<span class="err">@</span><span class="nx">section</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">{{</span><span class="w"> </span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;messages.taxes&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">}}</span>
<span class="err">@</span><span class="nx">endsection</span>
<span class="err">@</span><span class="nx">section</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;container-fluid&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;d-flex flex-column &quot;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="err">@</span><span class="nx">include</span><span class="p">(</span><span class="s1">&#39;flash::message&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">livewire</span><span class="o">:</span><span class="nx">tax</span><span class="o">-</span><span class="nx">table</span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">        </span><span class="err">@</span><span class="nx">include</span><span class="p">(</span><span class="s1">&#39;taxes.create_modal&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="err">@</span><span class="nx">include</span><span class="p">(</span><span class="s1">&#39;taxes.edit_modal&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="err">@</span><span class="nx">endsection</span>
</code></pre></div>
<p>Let's break down the code and understand its structure:</p>
<ol>
<li>
<p><strong>Extending Layout:</strong></p>
</li>
<li>
<p>The view extends the <code>layouts.app</code> layout template, indicating that it should inherit the structure and elements defined in that layout.</p>
</li>
<li>
<p><strong>Setting Page Title:</strong></p>
</li>
<li>
<p>The <code>@section('title')</code> directive sets the page title to be displayed in the browser's title bar or tab.</p>
</li>
<li>
<p><strong>Defining Content Section:</strong></p>
</li>
<li>
<p>The <code>@section('content')</code> directive defines the main content section of the view.</p>
</li>
<li>
<p><strong>Container and Flex Layout:</strong></p>
</li>
<li>
<p>The content is wrapped within a <code>&lt;div class="container-fluid"&gt;</code> element, providing a fluid container layout.</p>
</li>
<li>
<p><strong>Flash Messages:</strong></p>
</li>
<li>
<p>The <code>@include('flash::message')</code> directive includes a Flash message, which used to display temporary informational messages to the user.</p>
</li>
<li>
<p><strong>Livewire Component:</strong></p>
</li>
<li>
<p>The <code>@livewire('tax-table')</code> directive includes the <code>TaxTable</code> Livewire component in the view. This component generates the dynamic table displaying tax records.</p>
</li>
<li>
<p><strong>Include Create Modal:</strong></p>
</li>
<li>
<p>The <code>@include('taxes.create_modal')</code> directive includes a modal for creating new tax records. This modal is likely shown when the user wants to add a new tax.</p>
</li>
<li>
<p><strong>Include Edit Modal:</strong></p>
</li>
<li>The <code>@include('taxes.edit_modal')</code> directive includes a modal for editing existing tax records. This modal is shown when the user wants to update the details of a tax.</li>
</ol>
<h3 id="edit-tax">Edit tax</h3>
<p>The edit taxes modal view is located in : <strong>resources\views\Taxes\edit.blade.php</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span>
  <span class="na">id</span><span class="o">=</span><span class="s">&quot;editTaxModal&quot;</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal fade&quot;</span>
  <span class="na">role</span><span class="o">=</span><span class="s">&quot;dialog&quot;</span>
  <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;-1&quot;</span>
  <span class="na">aria-hidden</span><span class="o">=</span><span class="s">&quot;true&quot;</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-dialog&quot;</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- Modal content--&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-content&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-header&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>{{ __(&#39;messages.tax.edit_tax&#39;) }}<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span>
          <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span>
          <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn-close&quot;</span>
          <span class="na">data-bs-dismiss</span><span class="o">=</span><span class="s">&quot;modal&quot;</span>
          <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Close&quot;</span>
        <span class="p">&gt;&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      {{ Form::open([&#39;id&#39;=&gt;&#39;editTaxForm&#39;]) }}
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-body scroll-y&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span>
          <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert alert-danger display-none hide&quot;</span>
          <span class="na">id</span><span class="o">=</span><span class="s">&quot;editValidationErrorsBox&quot;</span>
        <span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        {{ Form::hidden(&#39;taxId&#39;,null,[&#39;id&#39;=&gt;&#39;taxId&#39;]) }}
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;row&quot;</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group col-sm-12 mb-5&quot;</span><span class="p">&gt;</span>
            {{ Form::label(&#39;name&#39;, __(&#39;messages.common.name&#39;).&#39;:&#39;, [&#39;class&#39; =&gt;
            &#39;form-label required mb-3&#39;]) }} {{ Form::text(&#39;name&#39;, null,
            [&#39;id&#39;=&gt;&#39;editTaxName&#39;,&#39;class&#39; =&gt; &#39;form-control form-control-solid&#39;,
            &#39;required&#39;,&#39;placeholder&#39; =&gt; __(&#39;messages.common.name&#39;)]) }}
          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group col-sm-12 mb-5&quot;</span><span class="p">&gt;</span>
            {{ Form::label(&#39;value&#39;, __(&#39;messages.common.value&#39;).&#39;:&#39;, [&#39;class&#39; =&gt;
            &#39;form-label required mb-3&#39;]) }} {{ Form::number(&#39;value&#39;, null,
            [&#39;id&#39;=&gt;&#39;editTaxValue&#39;,&#39;class&#39; =&gt; &#39;form-control form-control-solid&#39;,
            &#39;min&#39; =&gt;
            0,&#39;oninput&#39;=&gt;&quot;validity.valid||(value=value.replace(/[e\+\-]/gi,&#39;&#39;))&quot;,&#39;min&#39;=&gt;&#39;0&#39;,&#39;value&#39;=&gt;&#39;0&#39;,&#39;step&#39;=&gt;&#39;.01&#39;,&#39;required&#39;,&#39;placeholder&#39;
            =&gt; __(&#39;messages.common.value&#39;)]) }}
          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group col-sm-12 mb-5&quot;</span><span class="p">&gt;</span>
            {{ Form::label(&#39;is_default&#39;,__(&#39;messages.tax.is_default&#39;).&#39;:&#39;,
            [&#39;class&#39; =&gt; &#39;form-label mb-3&#39;]) }}
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-check form-check-custom &quot;</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn-group&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span>
                  <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-check-input me-2&quot;</span>
                  <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span>
                  <span class="na">name</span><span class="o">=</span><span class="s">&quot;is_default&quot;</span>
                  <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span>
                  <span class="na">checked</span>
                <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-check-label&quot;</span><span class="p">&gt;</span>
                  {{ __(&#39;messages.tax.yes&#39;).&#39;:&#39; }}
                <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span>
                  <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-check-input mx-2&quot;</span>
                  <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span>
                  <span class="na">name</span><span class="o">=</span><span class="s">&quot;is_default&quot;</span>
                  <span class="na">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span>
                <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-check-label&quot;</span><span class="p">&gt;</span>
                  {{ __(&#39;messages.tax.no&#39;).&#39;:&#39; }}
                <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
              <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-footer pt-0&quot;</span><span class="p">&gt;</span>
        {{ Form::button(__(&#39;messages.common.save&#39;), [&#39;type&#39; =&gt; &#39;submit&#39;,&#39;class&#39;
        =&gt; &#39;btn btn-primary me-2&#39;,&#39;id&#39; =&gt; &#39;btnEditSave&#39;,&#39;data-loading-text&#39; =&gt;
        &quot;<span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;spinner-border spinner-border-sm&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> Processing...&quot;])
        }}
        <span class="p">&lt;</span><span class="nt">button</span>
          <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span>
          <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-secondary btn-active-light-primary me-3&quot;</span>
          <span class="na">data-bs-dismiss</span><span class="o">=</span><span class="s">&quot;modal&quot;</span>
        <span class="p">&gt;</span>
          {{ __(&#39;messages.common.cancel&#39;) }}
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      {{ Form::close() }}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>Let's break down the code and understand its structure and purpose:</p>
<ol>
<li>
<p><strong>Modal Structure:</strong></p>
</li>
<li>
<p>The view contains a modal dialog structure that appears when the user wants to edit a tax record.</p>
</li>
<li>
<p>The modal is triggered by a button or link that invokes a JavaScript function to open the modal.</p>
</li>
<li>
<p><strong>Modal Header:</strong></p>
</li>
<li>
<p>The modal's header contains a title for the modal, which is "Edit Tax."</p>
</li>
<li>
<p>A close button is provided using Bootstrap's <code>data-bs-dismiss</code> attribute to close the modal.</p>
</li>
<li>
<p><strong>Form Opening:</strong></p>
</li>
<li>
<p>The <code>{{ Form::open(['id'=&gt;'editTaxForm']) }}</code> directive opens an HTML form for submitting the edit data. The form is submitted asynchronously using JavaScript.</p>
</li>
<li>
<p><strong>Modal Body:</strong></p>
</li>
<li>
<p>The modal body contains form elements for editing the tax record.</p>
</li>
<li>It includes input fields for the tax's name, value, and whether it's the default tax.</li>
<li>
<p>The fields are populated with the current values of the tax being edited.</p>
</li>
<li>
<p><strong>Validation Errors Box:</strong></p>
</li>
<li>
<p>An empty <code>&lt;div&gt;</code> is provided to display validation errors if they occur during form submission.</p>
</li>
<li>
<p>The div has the classes <code>alert</code>, <code>alert-danger</code>, <code>display-none</code>, and <code>hide</code> which hide the element initially.</p>
</li>
<li>
<p><strong>Hidden Field for Tax ID:</strong></p>
</li>
<li>
<p>A hidden input field (<code>{{ Form::hidden('taxId',null,['id'=&gt;'taxId']) }}</code>) holds the ID of the tax being edited. This is crucial for identifying which tax record to update.</p>
</li>
<li>
<p><strong>Form Groups and Inputs:</strong></p>
</li>
<li>
<p>The form groups contain labels and input fields for the tax's name, value, and default status.</p>
</li>
<li>The <code>name</code> and <code>value</code> fields are populated using the <code>Form::text</code> and <code>Form::number</code> methods.</li>
<li>
<p>The <code>is_default</code> field uses radio buttons to select whether the tax is the default tax or not.</p>
</li>
<li>
<p><strong>Modal Footer:</strong></p>
</li>
<li>
<p>The modal footer contains buttons for saving changes and canceling the edit process.</p>
</li>
<li>
<p>The "Save" button has an ID of <code>btnEditSave</code>, which might be used for JavaScript interactions.</p>
</li>
<li>
<p><strong>Form Closing:</strong></p>
</li>
<li><code>{{ Form::close() }}</code> closes the HTML form.</li>
</ol>
<h3 id="create-tax">Create Tax</h3>
<p>The create taxes modal view is located in : <strong>resources\views\Taxes\create.blade.php</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span>
  <span class="na">id</span><span class="o">=</span><span class="s">&quot;addTaxModal&quot;</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal fade&quot;</span>
  <span class="na">role</span><span class="o">=</span><span class="s">&quot;dialog&quot;</span>
  <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;-1&quot;</span>
  <span class="na">aria-hidden</span><span class="o">=</span><span class="s">&quot;true&quot;</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-dialog&quot;</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- Modal content--&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-content&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-header&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>{{ __(&#39;messages.tax.add_tax&#39;) }}<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span>
          <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span>
          <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn-close&quot;</span>
          <span class="na">data-bs-dismiss</span><span class="o">=</span><span class="s">&quot;modal&quot;</span>
          <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Close&quot;</span>
        <span class="p">&gt;&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      {{ Form::open([&#39;id&#39;=&gt;&#39;addTaxForm&#39;]) }}
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-body scroll-y&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span>
          <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert alert-danger display-none hide&quot;</span>
          <span class="na">id</span><span class="o">=</span><span class="s">&quot;validationErrorsBox&quot;</span>
        <span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;row&quot;</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group col-sm-12 mb-5&quot;</span><span class="p">&gt;</span>
            {{ Form::label(&#39;name&#39;, __(&#39;messages.common.name&#39;).&#39;:&#39;, [&#39;class&#39; =&gt;
            &#39;form-label required mb-3&#39;]) }} {{ Form::text(&#39;name&#39;, null,
            [&#39;id&#39;=&gt;&#39;name&#39;,&#39;class&#39; =&gt; &#39;form-control form-control-solid&#39;,
            &#39;required&#39;,&#39;placeholder&#39; =&gt; __(&#39;messages.common.name&#39;)]) }}
          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group col-sm-12 mb-5&quot;</span><span class="p">&gt;</span>
            {{ Form::label(&#39;value&#39;, __(&#39;messages.common.value&#39;).&#39;:&#39;, [&#39;class&#39; =&gt;
            &#39;form-label required mb-3&#39;]) }} {{ Form::number(&#39;value&#39;, null,
            [&#39;id&#39;=&gt;&#39;value&#39;,&#39;class&#39; =&gt; &#39;form-control
            form-control-solid&#39;,&#39;oninput&#39;=&gt;&quot;validity.valid||(value=value.replace(/[e\+\-]/gi,&#39;&#39;))&quot;,&#39;min&#39;=&gt;&#39;0&#39;,&#39;value&#39;=&gt;&#39;0&#39;,&#39;step&#39;=&gt;&#39;.01&#39;,
            &#39;required&#39;,&#39;placeholder&#39; =&gt; __(&#39;messages.common.value&#39;)]) }}
          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group col-sm-12 mb-5&quot;</span><span class="p">&gt;</span>
            {{ Form::label(&#39;is_default&#39;, &#39;Is Default:&#39;, [&#39;class&#39; =&gt; &#39;form-label
            mb-3&#39;]) }}
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-check form-check-custom &quot;</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn-group&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span>
                  <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-check-input me-2&quot;</span>
                  <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span>
                  <span class="na">name</span><span class="o">=</span><span class="s">&quot;is_default&quot;</span>
                  <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span>
                <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-check-label&quot;</span><span class="p">&gt;</span>
                  {{ __(&#39;messages.tax.yes&#39;).&#39;:&#39; }}
                <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span>
                  <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-check-input mx-2&quot;</span>
                  <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span>
                  <span class="na">name</span><span class="o">=</span><span class="s">&quot;is_default&quot;</span>
                  <span class="na">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span>
                  <span class="na">checked</span>
                <span class="p">/&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-check-label&quot;</span><span class="p">&gt;</span>
                  {{ __(&#39;messages.tax.no&#39;).&#39;:&#39; }}
                <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
              <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-footer pt-0&quot;</span><span class="p">&gt;</span>
        {{ Form::button(__(&#39;messages.common.save&#39;), [&#39;type&#39; =&gt; &#39;submit&#39;,&#39;class&#39;
        =&gt; &#39;btn btn-primary me-2&#39;,&#39;id&#39; =&gt; &#39;btnSave&#39;,&#39;data-loading-text&#39; =&gt;
        &quot;<span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;spinner-border spinner-border-sm&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> Processing...&quot;])
        }}
        <span class="p">&lt;</span><span class="nt">button</span>
          <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span>
          <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-secondary btn-active-light-primary me-3&quot;</span>
          <span class="na">data-bs-dismiss</span><span class="o">=</span><span class="s">&quot;modal&quot;</span>
        <span class="p">&gt;</span>
          {{ __(&#39;messages.common.cancel&#39;) }}
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      {{ Form::close() }}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>The provided code represents the Blade view for adding a new tax record using a modal dialog. This view is similar to the previous one (<code>tax.edit</code>), but it is focused on creating new tax records. Let's break down the code and understand its structure and purpose:</p>
<ol>
<li>
<p><strong>Modal Structure:</strong></p>
</li>
<li>
<p>The view contains a modal dialog structure that appears when the user wants to add a new tax record.</p>
</li>
<li>
<p>The modal is triggered by a button or link that invokes a JavaScript function to open the modal.</p>
</li>
<li>
<p><strong>Modal Header:</strong></p>
</li>
<li>
<p>The modal's header contains a title for the modal, which is "Add Tax."</p>
</li>
<li>
<p>A close button is provided using Bootstrap's <code>data-bs-dismiss</code> attribute to close the modal.</p>
</li>
<li>
<p><strong>Form Opening:</strong></p>
</li>
<li>
<p>The <code>{{ Form::open(['id'=&gt;'addTaxForm']) }}</code> directive opens an HTML form for submitting the new tax data. The form is submitted asynchronously using JavaScript.</p>
</li>
<li>
<p><strong>Modal Body:</strong></p>
</li>
<li>
<p>The modal body contains form elements for entering details of the new tax record.</p>
</li>
<li>It includes input fields for the tax's name, value, and whether it's the default tax.</li>
<li>
<p>The fields are empty or set to default values.</p>
</li>
<li>
<p><strong>Validation Errors Box:</strong></p>
</li>
<li>
<p>An empty <code>&lt;div&gt;</code> is provided to display validation errors if they occur during form submission.</p>
</li>
<li>
<p>The div has the classes <code>alert</code>, <code>alert-danger</code>, <code>display-none</code>, and <code>hide</code> which likely hide the element initially.</p>
</li>
<li>
<p><strong>Form Groups and Inputs:</strong></p>
</li>
<li>
<p>The form groups contain labels and input fields for the tax's name, value, and default status.</p>
</li>
<li>The <code>name</code> and <code>value</code> fields are empty, allowing the user to input these details.</li>
<li>
<p>The <code>is_default</code> field uses radio buttons to select whether the new tax will be the default tax.</p>
</li>
<li>
<p><strong>Modal Footer:</strong></p>
</li>
<li>
<p>The modal footer contains buttons for saving the new tax record and canceling the creation process.</p>
</li>
<li>
<p>The "Save" button has an ID of <code>btnSave</code>, which is used for JavaScript interactions.</p>
</li>
<li>
<p><strong>Form Closing:</strong></p>
</li>
<li><code>{{ Form::close() }}</code> closes the HTML form.</li>
</ol>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>