
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../InvoiceTemplates/">
      
      
        <link rel="next" href="../../Client/dashboard/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Settings - InfyInvoices</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setting" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="InfyInvoices" class="md-header__button md-logo" aria-label="InfyInvoices" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            InfyInvoices
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Settings
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../Login/" class="md-tabs__link">
      Authentication page
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../dashboard/" class="md-tabs__link md-tabs__link--active">
        Admin
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Client/dashboard/" class="md-tabs__link">
        Client
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../layout/" class="md-tabs__link">
      Layout
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="InfyInvoices" class="md-nav__button md-logo" aria-label="InfyInvoices" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    InfyInvoices
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Login/" class="md-nav__link">
        Authentication page
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Admin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Admin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dashboard/" class="md-nav__link">
        Dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../admins/" class="md-nav__link">
        admins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../clients/" class="md-nav__link">
        clients
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../categories/" class="md-nav__link">
        categories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Taxes/" class="md-nav__link">
        Taxes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Products/" class="md-nav__link">
        Products
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Quotes/" class="md-nav__link">
        Quotes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../invoices/" class="md-nav__link">
        invoices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Transactions/" class="md-nav__link">
        Transactions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Payments/" class="md-nav__link">
        Payments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../InvoiceTemplates/" class="md-nav__link">
        Invoice Templates
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Settings
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Settings
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#route" class="md-nav__link">
    Route
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller" class="md-nav__link">
    Controller
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view" class="md-nav__link">
    View
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Client
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Client
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Client/dashboard/" class="md-nav__link">
        Dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Client/quotes/" class="md-nav__link">
        Quotes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Client/invoices/" class="md-nav__link">
        Invoices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Client/transactions/" class="md-nav__link">
        Transactions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../layout/" class="md-nav__link">
        Layout
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="setting">Setting</h1>
<h2 id="route">Route</h2>
<p>The route <code>Route::get('settings', [SettingController::class, 'edit'])-&gt;name('settings.edit');</code> leads to the page <strong>/admin/invoice-setting</strong> .</p>
<h2 id="controller">Controller</h2>
<p>The controller of the 'Setting' page located in <strong>app&gt;http&gt;controllers&gt;SettingController.php</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Http\Requests\UpdateSettingRequest</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Models\InvoiceSetting</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Repositories\SettingRepository</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Contracts\Foundation\Application</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Contracts\View\Factory</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Contracts\View\View</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Http\RedirectResponse</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Http\Request</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Laracasts\Flash\Flash</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">SettingController</span> <span class="k">extends</span> <span class="nx">AppBaseController</span>
<span class="p">{</span>
    <span class="sd">/** @var SettingRepository */</span>
    <span class="k">private</span> <span class="nv">$settingRepository</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">SettingRepository</span> <span class="nv">$settingRepo</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">settingRepository</span> <span class="o">=</span> <span class="nv">$settingRepo</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Show the form for editing the specified resource.</span>
<span class="sd">     *</span>
<span class="sd">     * @param  Request  $request</span>
<span class="sd">     * @return Application|Factory|View</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">edit</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$defaultSettings</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">settingRepository</span><span class="o">-&gt;</span><span class="na">editSettingsData</span><span class="p">();</span>
        <span class="nv">$sectionName</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">section</span> <span class="o">===</span> <span class="k">null</span><span class="p">)</span> <span class="o">?</span> <span class="s1">&#39;general&#39;</span> <span class="o">:</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">section</span><span class="p">;</span>

        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s2">&quot;settings.</span><span class="si">$sectionName</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">compact</span><span class="p">([</span>
            <span class="s1">&#39;sectionName&#39;</span> <span class="o">=&gt;</span> <span class="nv">$sectionName</span><span class="p">,</span>
            <span class="s1">&#39;defaultSettings&#39;</span> <span class="o">=&gt;</span> <span class="nv">$defaultSettings</span>
        <span class="p">]</span>
        <span class="p">));</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @param UpdateSettingRequest $request</span>
<span class="sd">     * @return RedirectResponse</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">update</span><span class="p">(</span><span class="nx">UpdateSettingRequest</span> <span class="nv">$request</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">settingRepository</span><span class="o">-&gt;</span><span class="na">updateSetting</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">());</span>
        <span class="nx">Flash</span><span class="o">::</span><span class="na">success</span><span class="p">(</span><span class="s1">&#39;Setting updated successfully.&#39;</span><span class="p">);</span>

        <span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">back</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">//Invoice Update</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">invoiceUpdate</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">settingRepository</span><span class="o">-&gt;</span><span class="na">updateInvoiceSetting</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">());</span>
        <span class="nx">Flash</span><span class="o">::</span><span class="na">success</span><span class="p">(</span><span class="s1">&#39;Invoice template updated successfully&#39;</span><span class="p">);</span>

        <span class="k">return</span> <span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;admin/settings?section=setting-invoice&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @param $key</span>
<span class="sd">     * @return mixed</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">editInvoiceTemplate</span><span class="p">(</span><span class="nv">$key</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$invoiceTemplate</span> <span class="o">=</span> <span class="nx">InvoiceSetting</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sendResponse</span><span class="p">(</span><span class="nv">$invoiceTemplate</span><span class="p">,</span> <span class="s1">&#39;InvoiceTemplate retrieved successfully.&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @return Application|Factory|View</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">invoiceSettings</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$data</span><span class="p">[</span><span class="s1">&#39;settings&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">settingRepository</span><span class="o">-&gt;</span><span class="na">getSyncList</span><span class="p">();</span>

        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;settings.invoice-settings&#39;</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Let's break down its key methods and functionality:</p>
<ol>
<li>
<p><strong>Constructor</strong>:</p>
</li>
<li>
<p>The constructor injects an instance of the <code>SettingRepository</code> into the controller, which can be used to interact with and manage application settings.</p>
</li>
<li>
<p><strong><code>edit</code> Method</strong>:</p>
</li>
<li>
<p>This method is responsible for displaying the form for editing settings. It retrieves the default settings using the <code>editSettingsData</code> method from the <code>SettingRepository</code>.</p>
</li>
<li>The <code>$sectionName</code> variable is determined based on the <code>section</code> query parameter from the request, defaulting to <code>'general'</code> if no specific section is specified.</li>
<li>
<p>The method then returns a view based on the determined section name, passing in the section name and default settings as variables to the view.</p>
</li>
<li>
<p><strong><code>update</code> Method</strong>:</p>
</li>
<li>
<p>This method handles the updating of settings based on the data received from an <code>UpdateSettingRequest</code>. It calls the <code>updateSetting</code> method from the <code>SettingRepository</code> to perform the actual update of settings.</p>
</li>
<li>
<p>After updating the settings, it flashes a success message using the Laracasts/Flash package and redirects the user back to the previous page.</p>
</li>
<li>
<p><strong><code>invoiceUpdate</code> Method</strong>:</p>
</li>
<li>
<p>This method handles the updating of invoice-related settings. It calls the <code>updateInvoiceSetting</code> method from the <code>SettingRepository</code> to perform the actual update of invoice settings.</p>
</li>
<li>
<p>After updating the invoice settings, it flashes a success message and redirects the user to the settings page with the <code>section</code> query parameter set to <code>'setting-invoice'</code>.</p>
</li>
<li>
<p><strong><code>editInvoiceTemplate</code> Method</strong>:</p>
</li>
<li>
<p>This method retrieves specific invoice template settings based on the provided key. It fetches the settings from the <code>InvoiceSetting</code> model and sends a response with the retrieved data.</p>
</li>
<li>
<p>This method is used to retrieve and potentially edit individual invoice template settings.</p>
</li>
<li>
<p><strong><code>invoiceSettings</code> Method</strong>:</p>
</li>
<li>This method is responsible for displaying a page related to invoice settings. It retrieves a list of settings using the <code>getSyncList</code> method from the <code>SettingRepository</code> and passes them to the view for rendering.</li>
</ol>
<p>Overall, the <code>SettingController</code> is responsible for managing various application settings, including general settings and invoice-related settings. It provides methods for viewing, editing, and updating these settings and utilizes the <code>SettingRepository</code> for interacting with the settings data.</p>
<h2 id="model">Model</h2>
<p><strong>app&gt;models&gt;InvoiceSetting.php</strong></p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Models</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Factories\HasFactory</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Model</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">InvoiceSetting</span> <span class="k">extends</span> <span class="nx">Model</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">HasFactory</span><span class="p">;</span>

    <span class="k">protected</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;invoice-settings&#39;</span><span class="p">;</span>

    <span class="k">protected</span> <span class="nv">$fillable</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;template_name&#39;</span><span class="p">,</span> <span class="s1">&#39;template_color&#39;</span><span class="p">];</span>

    <span class="k">protected</span> <span class="nv">$casts</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
        <span class="s1">&#39;template_name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
        <span class="s1">&#39;template_color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
    <span class="p">];</span>
<span class="p">}</span>
</code></pre></div>
<p>The provided code defines an Eloquent model named <code>InvoiceSetting</code>. This model represents a database table named <code>'invoice-settings'</code>. Here's a breakdown of the key aspects of this model:</p>
<ol>
<li>
<p><strong>Table Name</strong>:</p>
</li>
<li>
<p>The <code>protected $table</code> property specifies the name of the database table associated with this model, which is <code>'invoice-settings'</code>.</p>
</li>
<li>
<p><strong>Fillable Attributes</strong>:</p>
</li>
<li>
<p>The <code>protected $fillable</code> property defines an array of attributes that are mass assignable, meaning they can be set using mass assignment methods like <code>create</code> or <code>update</code>.</p>
</li>
<li>
<p>In this case, the model allows mass assignment for three attributes: <code>'key'</code>, <code>'template_name'</code>, and <code>'template_color'</code>.</p>
</li>
<li>
<p><strong>Attribute Casting</strong>:</p>
</li>
<li>
<p>The <code>protected $casts</code> property specifies how certain model attributes should be cast to specific data types when retrieved from the database.</p>
</li>
<li>
<p>In this model, three attributes are cast:</p>
<ul>
<li><code>'key'</code> is cast to a string.</li>
<li><code>'template_name'</code> is cast to a string.</li>
<li><code>'template_color'</code> is cast to a string.</li>
</ul>
</li>
<li>
<p><strong>Use of HasFactory</strong>:</p>
</li>
<li>The model uses the <code>HasFactory</code> trait, which provides methods for factory creation of model instances. This is commonly used for generating test data.</li>
</ol>
<p>Overall, the <code>InvoiceSetting</code> model is intended to work with a database table named <code>'invoice-settings'</code>. It allows for the storage of settings related to invoice templates, including attributes like the setting's key, template name, and template color. This model can be used to interact with and manage data in the associated database table within our Laravel application.</p>
<h2 id="view">View</h2>
<div class="highlight"><pre><span></span><code><span class="x">@extends(&#39;layouts.app&#39;)</span>
<span class="x">@section(&#39;title&#39;)</span>
<span class="x">    {{ __(&#39;messages.setting.invoice_settings&#39;) }}</span>
<span class="x">@endsection</span>
<span class="x">@section(&#39;content&#39;)</span>
<span class="x">    &lt;div class=&quot;container-fluid&quot;&gt;</span>
<span class="x">        @include(&#39;flash::message&#39;)</span>
<span class="x">        &lt;div class=&quot;card&quot;&gt;</span>
<span class="x">            &lt;div class=&quot;card-body&quot;&gt;</span>
<span class="x">                &lt;div class=&quot;alert alert-danger display-none hide&quot; id=&quot;validationErrorsBox&quot;&gt;&lt;/div&gt;</span>
<span class="x">                {{ Form::open([&#39;route&#39; =&gt; [&#39;settings.update&#39;], &#39;method&#39; =&gt; &#39;post&#39;]) }}</span>
<span class="x">                &lt;div class=&quot;row&quot;&gt;</span>
<span class="x">                    &lt;div class=&quot;form-group col-sm-6 mb-5&quot;&gt;</span>
<span class="x">                        &lt;input type=&quot;hidden&quot; name=&quot;invoice_settings&quot; value=&quot;1&quot;&gt;</span>
<span class="x">                        {{ Form::label(&#39;current_currency&#39;, __(&#39;messages.setting.currencies&#39;) . &#39;:&#39;, [&#39;class&#39; =&gt; &#39;form-label required fs-6 mb-3&#39;]) }}</span>
<span class="x">                        &lt;select id=&quot;currencyType&quot; data-show-content=&quot;true&quot; class=&quot;form-select &quot; name=&quot;current_currency&quot;&gt;</span>
<span class="x">                            @foreach (getCurrencies() as $key =&gt; $currency)</span>
<span class="x">                                &lt;option value=&quot;{{ $currency[&#39;id&#39;] }}&quot;</span>
<span class="x">                                    {{ getSettingValue(&#39;current_currency&#39;) == $currency[&#39;id&#39;] ? &#39;selected&#39; : &#39;&#39; }}&gt;</span>
<span class="x">                                    {{ $currency[&#39;icon&#39;] }}&amp;nbsp;&amp;nbsp;&amp;nbsp; {{ $currency[&#39;name&#39;] }}</span>
<span class="x">                                &lt;/option&gt;</span>
<span class="x">                            @endforeach</span>
<span class="x">                        &lt;/select&gt;</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                    &lt;div class=&quot;form-group col-sm-6 mb-5&quot;&gt;</span>
<span class="x">                        {{ Form::label(&#39;currency_after_amount&#39;, __(&#39;messages.setting.currency_position&#39;) . &#39;:&#39;, [&#39;class&#39; =&gt; &#39;form-label required mb-3&#39;]) }}</span>
<span class="x">                        &lt;label class=&quot;form-check form-switch form-check-custom mt-3&quot;&gt;</span>
<span class="x">                            &lt;input class=&quot;form-check-input currencyAfterAmount&quot; type=&quot;checkbox&quot; name=&quot;currency_after_amount&quot;</span>
<span class="x">                                id=&quot;currencyAfterAmount&quot;</span>
<span class="x">                                {{ $settings[&#39;currency_after_amount&#39;] == \App\Models\Setting::CURRENCY_AFTER_AMOUNT ? &#39;checked&#39; : &#39;&#39; }}&gt;</span>
<span class="x">                            &lt;span class=&quot;form-check-label text-gray-600&quot;</span>
<span class="x">                                for=&quot;currencyAfterAmount&quot;&gt;{{ __(&#39;messages.setting.show_currency_behind&#39;) }}&lt;/span&gt;&amp;nbsp;&amp;nbsp;</span>
<span class="x">                        &lt;/label&gt;</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                    &lt;div class=&quot;form-group col-sm-6 mb-5&quot;&gt;</span>
<span class="x">                        {{ Form::label(&#39;Invoice No Prefix&#39;, __(&#39;messages.setting.invoice_no_prefix&#39;) . &#39;:&#39;, [&#39;class&#39; =&gt; &#39;form-label fs-6 mb-3&#39;]) }}</span>
<span class="x">                        {{ Form::text(&#39;invoice_no_prefix&#39;, $settings[&#39;invoice_no_prefix&#39;], [&#39;class&#39; =&gt; &#39;form-control&#39;, &#39;placeholder&#39; =&gt; __(&#39;messages.setting.invoice_no_prefix&#39;), &#39;maxlength&#39; =&gt; &#39;50&#39;]) }}</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                    &lt;div class=&quot;form-group col-sm-6 mb-5&quot;&gt;</span>
<span class="x">                        {{ Form::label(&#39;decimal_separator&#39;, __(&#39;messages.setting.decimal_separator&#39;) . &#39;:&#39;, [&#39;class&#39; =&gt; &#39;form-label required fs-6 mb-3&#39;]) }}</span>
<span class="x">                        &lt;div class=&quot;radio-button-group&quot;&gt;</span>
<span class="x">                            &lt;div class=&quot;btn-group btn-group-toggle m-0&quot; data-toggle=&quot;buttons&quot;&gt;</span>
<span class="x">                                &lt;input type=&quot;radio&quot; class=&quot;decimal_separator-0&quot; name=&quot;decimal_separator&quot;</span>
<span class="x">                                    id=&quot;decimal_separator-0&quot; value=&quot;.&quot;</span>
<span class="x">                                    {{ $settings[&#39;decimal_separator&#39;] == &#39;.&#39; ? &#39;checked&#39; : &#39;&#39; }}&gt;</span>
<span class="x">                                &lt;label for=&quot;decimal_separator-0&quot; class=&quot;me-2&quot; role=&quot;button&quot;&gt;DOT(.)&lt;/label&gt;</span>

<span class="x">                                &lt;input type=&quot;radio&quot; class=&quot;decimal_separator-1&quot; name=&quot;decimal_separator&quot;</span>
<span class="x">                                    id=&quot;decimal_separator-1&quot; value=&quot;,&quot;</span>
<span class="x">                                    {{ $settings[&#39;decimal_separator&#39;] == &#39;,&#39; ? &#39;checked&#39; : &#39;&#39; }}&gt;</span>
<span class="x">                                &lt;label for=&quot;decimal_separator-1&quot; role=&quot;button&quot;&gt;COMMA(,)&lt;/label&gt;</span>
<span class="x">                            &lt;/div&gt;</span>
<span class="x">                        &lt;/div&gt;</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                    &lt;div class=&quot;form-group col-sm-6 mb-5&quot;&gt;</span>
<span class="x">                        {{ Form::label(&#39;Invoice No Suffix&#39;, __(&#39;messages.setting.invoice_no_suffix&#39;) . &#39;:&#39;, [&#39;class&#39; =&gt; &#39;form-label fs-6 mb-3&#39;]) }}</span>
<span class="x">                        {{ Form::text(&#39;invoice_no_suffix&#39;, $settings[&#39;invoice_no_suffix&#39;], [&#39;class&#39; =&gt; &#39;form-control&#39;, &#39;placeholder&#39; =&gt; __(&#39;messages.setting.invoice_no_suffix&#39;), &#39;maxlength&#39; =&gt; &#39;50&#39;]) }}</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                    &lt;div class=&quot;form-group col-sm-6 mb-5&quot;&gt;</span>
<span class="x">                        {{ Form::label(&#39;thousand_separator&#39;, __(&#39;messages.setting.thousand_separator&#39;) . &#39;:&#39;, [&#39;class&#39; =&gt; &#39;form-label required fs-6 mb-3&#39;]) }}</span>
<span class="x">                        &lt;div class=&quot;radio-button-group&quot;&gt;</span>
<span class="x">                            &lt;div class=&quot;btn-group btn-group-toggle m-0&quot; data-toggle=&quot;buttons&quot;&gt;</span>
<span class="x">                                &lt;input type=&quot;radio&quot; name=&quot;thousand_separator&quot; id=&quot;thousand_separator-0&quot; value=&quot;.&quot;</span>
<span class="x">                                    {{ $settings[&#39;thousand_separator&#39;] == &#39;.&#39; ? &#39;checked&#39; : &#39;&#39; }}&gt;</span>
<span class="x">                                &lt;label for=&quot;thousand_separator-0&quot; class=&quot;me-2&quot; role=&quot;button&quot;&gt;DOT(.)&lt;/label&gt;</span>

<span class="x">                                &lt;input type=&quot;radio&quot; name=&quot;thousand_separator&quot; id=&quot;thousand_separator-1&quot; value=&quot;,&quot;</span>
<span class="x">                                    {{ $settings[&#39;thousand_separator&#39;] == &#39;,&#39; ? &#39;checked&#39; : &#39;&#39; }}&gt;</span>
<span class="x">                                &lt;label for=&quot;thousand_separator-1&quot; role=&quot;button&quot;&gt;COMMA(,)&lt;/label&gt;</span>
<span class="x">                            &lt;/div&gt;</span>
<span class="x">                        &lt;/div&gt;</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                    &lt;div class=&quot;form-group col-sm-6 mb-5&quot;&gt;</span>
<span class="x">                        {{ Form::label(&#39;show_product_description&#39;, __(&#39;messages.setting.show_product_description&#39;) . &#39;:&#39;, [&#39;class&#39; =&gt; &#39;form-label mb-3&#39;]) }}</span>
<span class="x">                        &lt;label class=&quot;form-check form-switch form-check-custom mt-3 width-fit-content&quot;&gt;</span>
<span class="x">                            &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; name=&quot;show_product_description&quot;</span>
<span class="x">                                {{ $settings[&#39;show_product_description&#39;] == 1 ? &#39;checked&#39; : &#39;&#39; }} value=&quot;1&quot;&gt;</span>
<span class="x">                        &lt;/label&gt;</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                    &lt;div class=&quot;form-group col-sm-6 mb-5&quot;&gt;</span>
<span class="x">                        {{ Form::label(&#39;due_invoice_days&#39;, __(&#39;messages.setting.send_due_invoice_email_before_x_days&#39;) . &#39;:&#39;, [&#39;class&#39; =&gt; &#39;form-label mb-3&#39;]) }}</span>
<span class="x">                        {{ Form::number(&#39;due_invoice_days&#39;, !empty($settings[&#39;due_invoice_days&#39;]) ? $settings[&#39;due_invoice_days&#39;] : null, [&#39;class&#39; =&gt; &#39;form-control&#39;, &#39;placeholder&#39; =&gt; __(&#39;messages.setting.send_due_invoice_email_before_x_days&#39;), &#39;oninput&#39; =&gt; &quot;validity.valid||(value=value.replace(/[e\+\-]/gi,&#39;&#39;))&quot;]) }}</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                &lt;/div&gt;</span>
<span class="x">                &lt;div class=&quot;card-body&quot;&gt;</span>
<span class="x">                    &lt;div class=&quot;float-end d-flex mt-5&quot;&gt;</span>
<span class="x">                        {{ Form::submit(__(&#39;messages.common.save&#39;), [&#39;class&#39; =&gt; &#39;btn btn-primary me-3&#39;]) }}</span>
<span class="x">                        {{ Form::reset(__(&#39;messages.common.cancel&#39;), [&#39;class&#39; =&gt; &#39;btn  btn-secondary btn-active-light-primary me-3&#39;]) }}</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                &lt;/div&gt;</span>
<span class="x">                {{ Form::close() }}</span>
<span class="x">            &lt;/div&gt;</span>
<span class="x">        &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="x">@endsection</span>
</code></pre></div>
<p>Here's a breakdown of its content:</p>
<ol>
<li>
<p><strong>Extending Layout</strong>:</p>
</li>
<li>
<p>The view extends a layout named <code>'layouts.app'</code>. This means it inherits the structure and layout elements defined in the <code>'layouts.app'</code> file.</p>
</li>
<li>
<p><strong>Page Title</strong>:</p>
</li>
<li>
<p>The <code>@section('title')</code> directive sets the title of the page to "Invoice Settings."</p>
</li>
<li>
<p><strong>Content Section</strong>:</p>
</li>
<li>
<p>The <code>@section('content')</code> directive defines the main content section of the page.</p>
</li>
<li>
<p><strong>Flash Messages</strong>:</p>
</li>
<li>
<p>The <code>@include('flash::message')</code> directive includes any flash messages that may have been set in the controller. These messages are typically used to display success or error messages to the user.</p>
</li>
<li>
<p><strong>Form</strong>:</p>
</li>
<li>
<p>The view includes an HTML form (<code>{{ Form::open() }}</code>) for submitting updates to the settings.</p>
</li>
<li>The form has various form fields for editing invoice-related settings, such as currency settings, decimal and thousand separators, invoice number prefix and suffix, and more.</li>
<li>Dropdown menus (<code>&lt;select&gt;</code>) are used for selecting the current currency and specifying the position of the currency symbol.</li>
<li>Radio buttons are used for selecting decimal and thousand separators.</li>
<li>
<p>Checkboxes are used for toggling options like showing product descriptions and specifying the number of days before sending due invoice emails.</p>
</li>
<li>
<p><strong>Form Submission Buttons</strong>:</p>
</li>
<li>The form includes "Save" and "Cancel" buttons within a <code>div</code> with the class <code>"float-end d-flex mt-5"</code>. These buttons allow the user to save their changes or cancel the editing process.</li>
</ol>
<p>The view provides a user-friendly interface for editing invoice-related settings, and it uses Laravel's Form Collective package (<code>{{ Form::open() }}</code>, <code>{{ Form::label() }}</code>, <code>{{ Form::text() }}</code>, etc.) to generate form elements.</p>
<p>This view can be customized further to include additional settings or modify the existing ones based on the specific requirements of the application.</p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>